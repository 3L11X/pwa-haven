var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,a;function s(t,e){return r||(r=document.createElement("a")),r.href=e,t===r.href}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function p(){return m(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e,n){t.classList[n?"add":"remove"](e)}function x(t){a=t}function w(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const $=[],v=[],k=[],_=[],q=Promise.resolve();let P=!1;function E(t){k.push(t)}let O=!1;const j=new Set;function M(){if(!O){O=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];x(e),C(e.$$)}for(x(null),$.length=0;v.length;)v.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];j.has(e)||(j.add(e),e())}k.length=0}while($.length);for(;_.length;)_.pop()();P=!1,O=!1,j.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const I=new Set;function A(t,e){t&&t.i&&(I.delete(t),t.i(e))}const F="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function L(t,n,i,r){const{fragment:a,on_mount:s,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,i),r||E((()=>{const n=s.map(e).filter(l);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(E)}function Y(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&($.push(t),P||(P=!0,q.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function S(e,l,i,r,s,c,u,d=[-1]){const m=a;x(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:l.context||[]),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||m.$$.root};u&&u(p.root);let g=!1;if(p.ctx=i?i(e,l.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=l)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](l),g&&R(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!r&&r(p.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();l.intro&&A(e.$$.fragment),L(e,l.target,l.anchor,l.customElement),M()}x(m)}class N{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function T(e){let n,l,i,r,a,s,h;return{c(){n=d("div"),l=d("h4"),l.textContent="Install",i=p(),r=d("button"),r.innerHTML="<span>Ã—</span>",a=m("\r\n    Click here to install the app for more features!"),b(l,"class","alert-heading"),b(r,"class","close"),b(r,"type","button"),b(n,"class","alert alert-success filled-dm show svelte-1qjuqpq")},m(t,o){u(t,n,o),c(n,l),c(n,i),c(n,r),c(n,a),s||(h=[g(r,"click",e[2]),g(n,"click",e[1])],s=!0)},p:t,d(t){t&&f(n),s=!1,o(h)}}}function z(e){let n,o=e[0]&&T(e);return{c(){o&&o.c(),n=m("")},m(t,e){o&&o.m(t,e),u(t,n,e)},p(t,[e]){t[0]?o?o.p(t,e):(o=T(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&f(n)}}}function B(t,e,n){let o;return window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),n(0,o=t)})),[o,async function(){o.prompt();const{outcome:t}=await o.userChoice;"accepted"===t&&n(0,o=null)},function(){n(0,o=null)}]}class D extends N{constructor(t){super(),S(this,t,B,z,i,{})}}const X=["3g2","3gp","asf","avi","dv","flv","gxf","m2ts","m4a","m4b","m4p","m4r","m4v","mkv","mov","mp4","mpd","mpeg","mpg","mxf","nut","ogm","ogv","swf","ts","vob","webm","wmv","wtv"],U=new RegExp(`.(${X.join("|")})$`,"i"),H=["srt","vtt","ass","ssa","sub","txt"],G=new RegExp(`.(${H.join("|")})$`,"i"),Q=["3gp","3gpp","3g2","aac","adts","ac3","amr","eac3","flac","mp3","m4a","mp4","mp4a","mpga","mp2","mp2a","mp3","m2a","m3a","oga","ogg","mogg","spx","opus","raw","wav","weba"],W=new RegExp(`.(${Q.join("|")})$`,"i"),K=["apng","avif","bmp","gif","ico","jpg","jpeg","jfif","pjpeg","pjp","png","svg","tif","tiff","webp"],V=new RegExp(`.(${K.join("|")})$`,"i"),J=(new DOMParser).parseFromString.bind(new DOMParser);async function Z(t=[],e=[]){return(await Promise.all([...t].map((t=>async function(t,e){if(!t)return null;if(t.type){if(e.some((e=>0===t.type.indexOf(e))))return t.getAsFile();if("text/plain"===t.type){if("string"===t.kind){const n=await new Promise((e=>t.getAsString(e)));try{const t=new URL(n),o=e.find((t=>n.match(tt[t])));if(t&&o)return{url:n,name:n.substring(n.lastIndexOf("/")+1),type:o}}catch(t){}return null}if("file"===t.kind){const n=t.getAsFile();if(e.some((t=>n.name.match(tt[t]))))return n}return null}if("text/html"===t.type){const n=await new Promise((e=>t.getAsString(e))),o=e.map((t=>J(n,"text/html").querySelectorAll(nt[t]||t))).flat();return o.length?o.map((t=>{const e=t.src||t.value;return e?{url:e,name:e.substring(e.lastIndexOf("/")+1)}:null})):null}}const n=t.webkitGetAsEntry();if(n?.isDirectory){const t=(await new Promise((t=>n.createReader().readEntries(t)))).filter((t=>t.isFile&&e.some((e=>t.name.match(tt[e]))))).map((t=>new Promise((e=>t.file(e)))));return Promise.all(t)}if(n?.isFile&&e.some((t=>n.name.match(tt[t]))))return new Promise((t=>n.file(t)))}(t,e))))).flat().filter((t=>t))}const tt={audio:W,video:U,image:V,subtitle:G},et={audio:Q,video:X,image:K,subtitle:H},nt={image:"img",subtitle:"input"};const{window:ot}=F;function lt(e){let n,l,i,r,a,s;return{c(){n=d("div"),l=d("button"),l.textContent="arrow_back",i=p(),r=d("button"),r.textContent="arrow_forward",b(l,"class","btn btn-lg btn-square material-icons"),b(l,"type","button"),b(r,"class","btn btn-lg btn-square material-icons"),b(r,"type","button"),b(n,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto")},m(t,o){u(t,n,o),c(n,l),c(n,i),c(n,r),a||(s=[g(l,"click",e[13]),g(r,"click",e[12])],a=!0)},p:t,d(t){t&&f(n),a=!1,o(s)}}}function it(t){let e,n,l,i,r,a,x,w,$,v,k,_,q,P,E,O,j,M,C,F,R,S,N,T,z,B,X,U,H,G,Q,W,K,V,J,Z=t[3]?"blur_off":"blur_on";n=new D({});let tt=t[7].length>1&&lt(t);return document.title=W=t[4]+" "+(t[6].x&&t[6].y?`(${t[6].x} x ${t[6].y})`:"")+" "+t[9](t[5]),{c(){var o;e=d("div"),(o=n.$$.fragment)&&o.c(),l=p(),i=d("div"),r=d("img"),x=p(),w=d("div"),tt&&tt.c(),$=p(),v=d("div"),k=d("button"),k.textContent="zoom_out_map",_=p(),q=d("button"),q.textContent="remove",P=p(),E=d("input"),j=p(),M=d("button"),M.textContent="add",C=p(),F=d("div"),R=d("button"),S=m(Z),N=p(),T=d("button"),T.textContent="rotate_left",z=p(),B=d("button"),B.textContent="rotate_right",X=p(),U=d("button"),U.innerHTML='<div class="flip svelte-1w5qlh3">flip</div>',H=p(),G=d("button"),G.textContent="flip",Q=p(),b(e,"class","sticky-alerts d-flex flex-column-reverse svelte-1w5qlh3"),s(r.src,a=t[1])||b(r,"src",a),b(r,"alt","view"),b(r,"class","w-full h-full position-absolute svelte-1w5qlh3"),y(r,"transition",t[8]),b(i,"class","w-full h-full overflow-hidden position-relative dragarea svelte-1w5qlh3"),b(k,"class","btn btn-lg btn-square material-icons svelte-1w5qlh3"),b(k,"type","button"),b(q,"class","btn btn-lg btn-square material-icons svelte-1w5qlh3"),b(q,"type","button"),b(E,"type","number"),b(E,"step","0.1"),b(E,"min","0.1"),b(E,"class","form-control form-control-lg text-right svelte-1w5qlh3"),b(E,"placeholder","Scale"),E.readOnly=!0,E.value=O=t[0].toFixed(1),b(M,"class","btn btn-lg btn-square material-icons svelte-1w5qlh3"),b(M,"type","button"),b(v,"class","btn-group input-group bg-dark-dm bg-light-lm rounded m-5 w-200 col-auto svelte-1w5qlh3"),b(R,"class","btn btn-lg btn-square material-icons"),b(R,"type","button"),b(T,"class","btn btn-lg btn-square material-icons"),b(T,"type","button"),b(B,"class","btn btn-lg btn-square material-icons"),b(B,"type","button"),b(U,"class","btn btn-lg btn-square material-icons"),b(U,"type","button"),b(G,"class","btn btn-lg btn-square material-icons"),b(G,"type","button"),b(F,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),b(w,"class","position-absolute buttons row w-full justify-content-center svelte-1w5qlh3")},m(o,a){u(o,e,a),L(n,e,null),u(o,l,a),u(o,i,a),c(i,r),t[35](r),u(o,x,a),u(o,w,a),tt&&tt.m(w,null),c(w,$),c(w,v),c(v,k),c(v,_),c(v,q),c(v,P),c(v,E),c(v,j),c(v,M),c(w,C),c(w,F),c(F,R),c(R,S),c(F,N),c(F,T),c(F,z),c(F,B),c(F,X),c(F,U),c(F,H),c(F,G),u(o,Q,a),K=!0,V||(J=[g(ot,"drop",h(t[17])),g(ot,"dragenter",h(t[31])),g(ot,"dragover",h(t[32])),g(ot,"dragstart",h(t[33])),g(ot,"dragleave",h(t[34])),g(ot,"paste",h(t[17])),g(r,"load",t[21]),g(i,"pointerdown",t[10]),g(i,"pointerup",t[11]),g(i,"wheel",t[16],{passive:!0}),g(i,"touchend",t[11]),g(i,"touchstart",t[14]),g(i,"touchmove",t[15]),g(i,"click",t[18]),g(k,"click",t[20]),g(q,"click",t[36]),g(M,"click",t[37]),g(R,"click",t[19]),g(T,"click",t[22]),g(B,"click",t[23]),g(U,"click",t[24]),g(G,"click",t[25])],V=!0)},p(t,e){(!K||2&e[0]&&!s(r.src,a=t[1]))&&b(r,"src",a),256&e[0]&&y(r,"transition",t[8]),t[7].length>1?tt?tt.p(t,e):(tt=lt(t),tt.c(),tt.m(w,$)):tt&&(tt.d(1),tt=null),(!K||1&e[0]&&O!==(O=t[0].toFixed(1)))&&(E.value=O),(!K||8&e[0])&&Z!==(Z=t[3]?"blur_off":"blur_on")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(S,Z),(!K||624&e[0])&&W!==(W=t[4]+" "+(t[6].x&&t[6].y?`(${t[6].x} x ${t[6].y})`:"")+" "+t[9](t[5]))&&(document.title=W)},i(t){K||(A(n.$$.fragment,t),K=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),(void 0).c.push((()=>{I.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(n.$$.fragment,t),K=!1},d(r){r&&f(e),Y(n),r&&f(l),r&&f(i),t[35](null),r&&f(x),r&&f(w),tt&&tt.d(),r&&f(Q),V=!1,o(J)}}}function rt(t,e,n){let o=null,l=null,i=0,r=!0,a="Image Viewer",s=null;const c={x:0,y:0},u={x:0,y:0},f={x:0,y:0};let d=c;const m={x:null,y:null},p=[" B"," KB"," MB"," GB"];let g=[],h=null;navigator.serviceWorker.register("/sw.js");let b=!0;function y(t){x||(f.x=u.x+t.clientX-c.x,f.y=u.y+t.clientY-c.y,n(26,d=f))}let x=!1;let $=0,k=0;let _=1;function q({deltaY:t}){const e=-.01*t;e<0?(i<-4||(i-=.5),u.x/=1.5,u.y/=1.5):e>0&&!(i>11)&&(i+=.5,u.x*=1.5,u.y*=1.5),n(0,_=2**i),n(26,d=u)}function P(t){if(t?.length){for(const e of t)e instanceof File&&(e.url=URL.createObjectURL(e));n(7,g=g.concat(t)),h||n(27,h=g[0])}}"launchQueue"in window&&async function(){launchQueue.setConsumer((async t=>{if(!t.files.length)return;const e=t.files.map((t=>t.getFile()));return(await Promise.all(e)).filter(((t,e,n)=>n.findIndex((e=>e.name===t.name&&e.size===t.size&&e.lastModified===t.lastModified))===e))}))}().then(P),P(function(t){const e=[...new URLSearchParams(location.search)];if(!e.length)return null;const n=[];for(const o of e)if(t.find((t=>o[1].match(tt[t])))){const t=o[1].substring(Math.max(o[1].lastIndexOf("\\")+2,o[1].lastIndexOf("/")+1));n.push({name:t,url:o[1]})}return n}(["image"]));let E=0;let O=!1;let j=!1;return t.$$.update=()=>{134217728&t.$$.dirty[0]&&function(t){if(t)if(t.constructor===String){const e=Math.max(t.lastIndexOf("\\"),t.lastIndexOf("/"))+1;n(4,a=t.substring(e)),n(5,s=null),n(1,o=t)}else{const e=Math.max(t.name.lastIndexOf("\\"),t.name.lastIndexOf("/"))+1;n(4,a=t.name.substring(e)),n(5,s=t.size),n(1,o=t.url)}}(h),1946157057&t.$$.dirty[0]&&function({disPos:t,mirror:e,flip:n,rotation:o,zoom:i}){l?.style.setProperty("transform",`rotate(${o}deg) scaleX(${e?-1:1}) scaleY(${n?-1:1}) scale(${i})`),l?.style.setProperty("--left",t.x+"px"),l?.style.setProperty("--top",t.y+"px")}({disPos:d,mirror:j,flip:O,rotation:E,zoom:_})},[_,o,l,r,a,s,m,g,b,function(t){if(isNaN(t)||null==t)return"";if(t<1)return t+" B";const e=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),p.length-1);return Number((t/Math.pow(1e3,e)).toFixed(2))+p[e]},function(t){n(8,b=!1),c.x=t.clientX,c.y=t.clientY,n(2,l.onpointermove=y,l),t.pointerId&&l.setPointerCapture(t.pointerId)},function(t){l.onpointermove&&(n(8,b=!0),n(2,l.onpointermove=null,l),t.pointerId&&l.releasePointerCapture(t.pointerId),x?(x=!1,$=0):(u.x+=t.clientX-c.x,u.y+=t.clientY-c.y))},function(){n(27,h=g[(g.indexOf(h)+1)%g.length])},function(){const t=g.indexOf(h);n(27,h=g[0===t?g.length-1:t-1])},function({touches:t}){2===t.length&&(x=!0,n(8,b=!0))},function({touches:t}){if(2===t.length&&!0===x){const e=$;$=Math.hypot(t[0].pageX-t[1].pageX,t[0].pageY-t[1].pageY),k+=e-$,(k>20||k<-20)&&(q({deltaY:k>0?100:-100}),k=0)}},q,async function({dataTransfer:t,clipboardData:e}){const n=e?.items||t?.items;n&&P(await Z(n,["image"]))},async function(){g.length||P(await function(t=[]){return new Promise((e=>{let n=document.createElement("input");n.type="file",n.multiple="multiple",n.accept=t.map((t=>"."+et[t].join(",."))).flat(),n.onchange=async({target:t})=>{e([...t.files]),n=null},n.click()}))}(["image"]))},function(){n(3,r=!r),l.style.setProperty("--pixel",r?"crisp-edges":"pixelated")},function(){u.x=0,u.y=0,i=0,n(0,_=1),n(26,d=u)},function(){n(6,m.x=l.naturalWidth,m),n(6,m.y=l.naturalHeight,m)},function(){n(28,E-=90)},function(){n(28,E+=90)},function(){n(29,O=!O)},function(){n(30,j=!j)},d,h,E,O,j,function(e){w.call(this,t,e)},function(e){w.call(this,t,e)},function(e){w.call(this,t,e)},function(e){w.call(this,t,e)},function(t){v[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},()=>q({deltaY:100}),()=>q({deltaY:-100})]}return new class extends N{constructor(t){super(),S(this,t,rt,it,i,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
