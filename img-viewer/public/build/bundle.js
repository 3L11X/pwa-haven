var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,c;function u(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function h(){return p(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){c=t}function b(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const $=[],w=[],v=[],_=[],k=Promise.resolve();let O=!1;function M(t){v.push(t)}let E=!1;const P=new Set;function A(){if(!E){E=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];x(e),I(e.$$)}for(x(null),$.length=0;w.length;)w.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];P.has(e)||(P.add(e),e())}v.length=0}while($.length);for(;_.length;)_.pop()();O=!1,E=!1,P.clear()}}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const S=new Set;const B="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function C(t,e){-1===t.$$.dirty[0]&&($.push(t),O||(O=!0,k.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function L(i,l,u,s,a,d,p,h=[-1]){const g=c;x(i);const m=i.$$={fragment:null,ctx:null,props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:l.context||[]),callbacks:n(),dirty:h,skip_bound:!1,root:l.target||g.$$.root};p&&p(m.root);let y=!1;if(m.ctx=u?u(i,l.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&a(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),y&&C(i,t)),e})):[],m.update(),y=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);m.fragment&&m.fragment.l(t),t.forEach(f)}else m.fragment&&m.fragment.c();l.intro&&((b=i.$$.fragment)&&b.i&&(S.delete(b),b.i($))),function(t,n,i,l){const{fragment:c,on_mount:u,on_destroy:s,after_update:a}=t.$$;c&&c.m(n,i),l||M((()=>{const n=u.map(e).filter(r);s?s.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(M)}(i,l.target,l.anchor,l.customElement),A()}var b,$;x(g)}const{window:N}=B;function j(e){let n,r,i,l,c,x,b,$,w,v,_,k,O,M=e[2]?"blur_off":"blur_on";return document.title=_=e[3]+" "+(e[5].x&&e[5].y?`(${e[5].x} x ${e[5].y})`:"")+" "+e[6](e[4]),{c(){n=d("div"),r=d("img"),l=h(),c=d("div"),x=d("button"),b=p(M),$=h(),w=d("button"),w.textContent="fit_screen",v=h(),u(r.src,i=e[0])||y(r,"src",i),y(r,"alt","view"),y(r,"class","w-full h-full position-absolute svelte-1xh93w5"),y(n,"class","w-full h-full overflow-hidden position-relative dragarea svelte-1xh93w5"),y(x,"class","btn btn-lg btn-square material-icons"),y(x,"type","button"),y(w,"class","btn btn-lg btn-square material-icons"),y(w,"type","button"),y(c,"class","btn-group position-absolute bg-dark-dm bg-light-lm svelte-1xh93w5")},m(t,o){a(t,n,o),s(n,r),e[19](r),a(t,l,o),a(t,c,o),s(c,x),s(x,b),s(c,$),s(c,w),a(t,v,o),k||(O=[g(N,"drop",m(e[10])),g(N,"dragenter",m(e[15])),g(N,"dragover",m(e[16])),g(N,"dragstart",m(e[17])),g(N,"dragleave",m(e[18])),g(N,"paste",m(e[11])),g(r,"load",e[14]),g(n,"pointerdown",e[7]),g(n,"pointerup",e[8]),g(n,"wheel",e[9],{passive:!0}),g(x,"click",e[12]),g(w,"click",e[13])],k=!0)},p(t,[e]){1&e&&!u(r.src,i=t[0])&&y(r,"src",i),4&e&&M!==(M=t[2]?"blur_off":"blur_on")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(b,M),120&e&&_!==(_=t[3]+" "+(t[5].x&&t[5].y?`(${t[5].x} x ${t[5].y})`:"")+" "+t[6](t[4]))&&(document.title=_)},i:t,o:t,d(t){t&&f(n),e[19](null),t&&f(l),t&&f(c),t&&f(v),k=!1,o(O)}}}function T(t,e,n){let o=null,r=null,i=1,l=!0,c="Image Viewer",u=null;const s={x:0,y:0},a={x:0,y:0},f={x:0,y:0},d={x:null,y:null},p=(new DOMParser).parseFromString.bind(new DOMParser),h=[" B"," KB"," MB"," GB"];function g(t){if(o&&URL.revokeObjectURL(o),t.constructor===String){n(0,o=t);const e=Math.max(t.lastIndexOf("\\"),t.lastIndexOf("/"))+1;n(3,c=t.substring(e)),n(4,u=null)}else{n(0,o=URL.createObjectURL(t));const e=Math.max(t.name.lastIndexOf("\\"),t.name.lastIndexOf("/"))+1;n(3,c=t.name.substring(e)),n(4,u=t.size)}}function m(t){f.x=a.x+t.clientX-s.x,f.y=a.y+t.clientY-s.y,y()}function y(t=f){r.style.setProperty("--left",t.x+"px"),r.style.setProperty("--top",t.y+"px")}return"launchQueue"in window&&launchQueue.setConsumer((async t=>{t.files.length&&g(await t.files[0].getFile())})),[o,r,l,c,u,d,function(t){if(isNaN(t)||null==t)return"";if(t<1)return t+" B";const e=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),h.length-1);return Number((t/Math.pow(1e3,e)).toFixed(2))+h[e]},function(t){s.x=t.clientX,s.y=t.clientY,n(1,r.onpointermove=m,r),r.setPointerCapture(t.pointerId)},function(t){r.onpointermove&&(n(1,r.onpointermove=null,r),r.releasePointerCapture(t.pointerId),a.x+=t.clientX-s.x,a.y+=t.clientY-s.y)},function(t){const e=-.01*t.deltaY;-1===e?(i<-4||(i+=e),a.x/=2,a.y/=2):1!==e||i>11||(i+=e,a.x*=2,a.y*=2),r.style.setProperty("--zoom",2**i),y(a)},function(t){const{dataTransfer:{files:e}}=t;e&&e[0]&&g(e[0])},function(t){const e=t.clipboardData.items[0];0===e?.type.indexOf("image")?g(e.getAsFile()):"text/plain"===e?.type?e.getAsString(g):"text/html"===e?.type&&e.getAsString((t=>{const e=p(t,"text/html").querySelector("img");e&&g(e.src)}))},function(){n(2,l=!l),r.style.setProperty("--pixel",l?"crisp-edges":"pixelated")},function(){a.x=0,a.y=0,i=0,r.style.setProperty("--zoom",1),y(a)},function(){n(5,d.x=r.naturalWidth,d),n(5,d.y=r.naturalHeight,d)},function(e){b.call(this,t,e)},function(e){b.call(this,t,e)},function(e){b.call(this,t,e)},function(e){b.call(this,t,e)},function(t){w[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),L(this,t,T,j,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
