var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,s;function a(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e,n){t.classList[n?"add":"remove"](e)}function y(t){s=t}function $(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const v=[],w=[],k=[],_=[],P=Promise.resolve();let C=!1;function q(t){k.push(t)}let M=!1;const O=new Set;function E(){if(!M){M=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];y(e),L(e.$$)}for(y(null),v.length=0;w.length;)w.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];O.has(e)||(O.add(e),e())}k.length=0}while(v.length);for(;_.length;)_.pop()();C=!1,M=!1,O.clear()}}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const S=new Set;function A(t,e){t&&t.i&&(S.delete(t),t.i(e))}const I="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function j(t,n,l,i){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,l),i||q((()=>{const n=a.map(e).filter(r);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(q)}function F(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function N(t,e){-1===t.$$.dirty[0]&&(v.push(t),C||(C=!0,P.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(e,r,l,i,a,c,u,d=[-1]){const p=s;y(e);const m=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:r.context||[]),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||p.$$.root};u&&u(m.root);let h=!1;if(m.ctx=l?l(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),h&&N(e,t)),n})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!i&&i(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(f)}else m.fragment&&m.fragment.c();r.intro&&A(e.$$.fragment),j(e,r.target,r.anchor,r.customElement),E()}y(p)}class Y{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function z(e){let n,r,l,i,s,a,b;return{c(){n=d("div"),r=d("h4"),r.textContent="Install",l=m(),i=d("button"),i.innerHTML="<span>Ã—</span>",s=p("\r\n    Click here to install the app for more features!"),g(r,"class","alert-heading"),g(i,"class","close"),g(i,"type","button"),g(n,"class","alert alert-success filled-dm show svelte-1qjuqpq")},m(t,o){u(t,n,o),c(n,r),c(n,l),c(n,i),c(n,s),a||(b=[h(i,"click",e[2]),h(n,"click",e[1])],a=!0)},p:t,d(t){t&&f(n),a=!1,o(b)}}}function B(e){let n,o=e[0]&&z(e);return{c(){o&&o.c(),n=p("")},m(t,e){o&&o.m(t,e),u(t,n,e)},p(t,[e]){t[0]?o?o.p(t,e):(o=z(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&f(n)}}}function D(t,e,n){let o;return window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),n(0,o=t)})),[o,async function(){o.prompt();const{outcome:t}=await o.userChoice;"accepted"===t&&n(0,o=null)},function(){n(0,o=null)}]}class R extends Y{constructor(t){super(),T(this,t,D,B,l,{})}}const{window:U}=I;function X(e){let n,r,l,i,s,a;return{c(){n=d("div"),r=d("button"),r.textContent="arrow_back",l=m(),i=d("button"),i.textContent="arrow_forward",g(r,"class","btn btn-lg btn-square material-icons"),g(r,"type","button"),g(i,"class","btn btn-lg btn-square material-icons"),g(i,"type","button"),g(n,"class","btn-group bg-dark-dm bg-light-lm rounded mr-10")},m(t,o){u(t,n,o),c(n,r),c(n,l),c(n,i),s||(a=[h(r,"click",e[13]),h(i,"click",e[12])],s=!0)},p:t,d(t){t&&f(n),s=!1,o(a)}}}function H(t){let e,n,r,l,i,s,y,$,v,w,k,_,P,C,q,M,O,E,L,I,N,T,Y,z,B,D,H,G,Q,W,K,V,J,Z,tt,et=t[3]?"blur_off":"blur_on";n=new R({});let nt=t[7].length>1&&X(t);return document.title=V=t[4]+" "+(t[6].x&&t[6].y?`(${t[6].x} x ${t[6].y})`:"")+" "+t[9](t[5]),{c(){var o;e=d("div"),(o=n.$$.fragment)&&o.c(),r=m(),l=d("div"),i=d("img"),y=m(),$=d("div"),nt&&nt.c(),v=m(),w=d("div"),k=d("button"),k.textContent="zoom_out_map",_=m(),P=d("button"),P.textContent="remove",C=m(),q=d("input"),O=m(),E=d("button"),E.textContent="add",L=m(),I=d("div"),N=d("button"),T=p(et),Y=m(),z=d("button"),z.textContent="rotate_left",B=m(),D=d("button"),D.textContent="rotate_right",H=m(),G=d("button"),G.innerHTML='<div class="flip svelte-1xh27ha">flip</div>',Q=m(),W=d("button"),W.textContent="flip",K=m(),g(e,"class","sticky-alerts d-flex flex-column-reverse svelte-1xh27ha"),a(i.src,s=t[1])||g(i,"src",s),g(i,"alt","view"),g(i,"class","w-full h-full position-absolute svelte-1xh27ha"),x(i,"transition",t[8]),g(l,"class","w-full h-full overflow-hidden position-relative dragarea svelte-1xh27ha"),g(k,"class","btn btn-lg btn-square material-icons svelte-1xh27ha"),g(k,"type","button"),g(P,"class","btn btn-lg btn-square material-icons svelte-1xh27ha"),g(P,"type","button"),g(q,"type","number"),g(q,"step","0.1"),g(q,"min","0.1"),g(q,"class","form-control form-control-lg text-right svelte-1xh27ha"),g(q,"placeholder","Scale"),q.readOnly=!0,q.value=M=t[0].toFixed(1),g(E,"class","btn btn-lg btn-square material-icons svelte-1xh27ha"),g(E,"type","button"),g(w,"class","btn-group input-group bg-dark-dm bg-light-lm rounded mr-10 w-200 svelte-1xh27ha"),g(N,"class","btn btn-lg btn-square material-icons"),g(N,"type","button"),g(z,"class","btn btn-lg btn-square material-icons"),g(z,"type","button"),g(D,"class","btn btn-lg btn-square material-icons"),g(D,"type","button"),g(G,"class","btn btn-lg btn-square material-icons"),g(G,"type","button"),g(W,"class","btn btn-lg btn-square material-icons"),g(W,"type","button"),g(I,"class","btn-group bg-dark-dm bg-light-lm rounded"),g($,"class","position-absolute buttons d-flex svelte-1xh27ha")},m(o,s){u(o,e,s),j(n,e,null),u(o,r,s),u(o,l,s),c(l,i),t[33](i),u(o,y,s),u(o,$,s),nt&&nt.m($,null),c($,v),c($,w),c(w,k),c(w,_),c(w,P),c(w,C),c(w,q),c(w,O),c(w,E),c($,L),c($,I),c(I,N),c(N,T),c(I,Y),c(I,z),c(I,B),c(I,D),c(I,H),c(I,G),c(I,Q),c(I,W),u(o,K,s),J=!0,Z||(tt=[h(U,"drop",b(t[15])),h(U,"dragenter",b(t[29])),h(U,"dragover",b(t[30])),h(U,"dragstart",b(t[31])),h(U,"dragleave",b(t[32])),h(U,"paste",b(t[16])),h(i,"load",t[19]),h(l,"pointerdown",t[10]),h(l,"pointerup",t[11]),h(l,"wheel",t[14],{passive:!0}),h(k,"click",t[18]),h(P,"click",t[34]),h(E,"click",t[35]),h(N,"click",t[17]),h(z,"click",t[20]),h(D,"click",t[21]),h(G,"click",t[22]),h(W,"click",t[23])],Z=!0)},p(t,e){(!J||2&e[0]&&!a(i.src,s=t[1]))&&g(i,"src",s),256&e[0]&&x(i,"transition",t[8]),t[7].length>1?nt?nt.p(t,e):(nt=X(t),nt.c(),nt.m($,v)):nt&&(nt.d(1),nt=null),(!J||1&e[0]&&M!==(M=t[0].toFixed(1)))&&(q.value=M),(!J||8&e[0])&&et!==(et=t[3]?"blur_off":"blur_on")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(T,et),(!J||624&e[0])&&V!==(V=t[4]+" "+(t[6].x&&t[6].y?`(${t[6].x} x ${t[6].y})`:"")+" "+t[9](t[5]))&&(document.title=V)},i(t){J||(A(n.$$.fragment,t),J=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(S.has(t))return;S.add(t),(void 0).c.push((()=>{S.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(n.$$.fragment,t),J=!1},d(i){i&&f(e),F(n),i&&f(r),i&&f(l),t[33](null),i&&f(y),i&&f($),nt&&nt.d(),i&&f(K),Z=!1,o(tt)}}}function G(t,e,n){let o=null,r=null,l=0,i=!0,s="Image Viewer",a=null;const c={x:0,y:0},u={x:0,y:0},f={x:0,y:0};let d=c;const p={x:null,y:null},m=(new DOMParser).parseFromString.bind(new DOMParser),h=[" B"," KB"," MB"," GB"];let b=[],g=null;navigator.serviceWorker.register("/sw.js");let x=!0;function y(t){f.x=u.x+t.clientX-c.x,f.y=u.y+t.clientY-c.y,n(24,d=f)}let v=1;function k({deltaY:t}){const e=-.01*t;e<0?(l<-4||(l-=.5),u.x/=1.5,u.y/=1.5):e>0&&!(l>11)&&(l+=.5,u.x*=1.5,u.y*=1.5),n(0,v=2**l),n(24,d=u)}async function _(t){const e=t.map((t=>{if(0===t?.type.indexOf("image"))return t.getAsFile();if("text/plain"===t?.type)return new Promise((e=>t.getAsString(e)));if("text/html"===t?.type)return new Promise((e=>{t.getAsString((t=>{const n=m(t,"text/html").querySelectorAll("img");n?.length&&e(n.map((t=>t?.src))),e()}))}));if(t&&!t.type){let e=t.webkitGetAsEntry();return e=e.isDirectory&&e,e?new Promise((t=>{e.createReader().readEntries((async e=>{const n=e.filter((t=>t.isFile)).map((t=>new Promise((e=>t.file(e)))));t(await Promise.all(n))}))})):void 0}})),o=(await Promise.all(e)).flat().filter((t=>t));for(const t of o)t.constructor!==String&&(t.url=URL.createObjectURL(t));n(7,b=b.concat(o)),!g&&b?.length&&n(25,g=b[0])}"launchQueue"in window&&launchQueue.setConsumer((async t=>{if(!t.files.length)return;const e=t.files.map((t=>t.getFile()));n(7,b=(await Promise.all(e)).filter(((t,e,n)=>n.findIndex((e=>e.name===t.name&&e.size===t.size&&e.lastModified===t.lastModified))===e)));for(const t of b)t.url=URL.createObjectURL(t);n(25,g=b[0])}));const P=new URLSearchParams(location.search);for(const t of P)b.push(t[1]),g||(g=b[0]);let C=0;let q=!1;let M=!1;return t.$$.update=()=>{33554432&t.$$.dirty[0]&&function(t){if(t)if(t.constructor===String){const e=Math.max(t.lastIndexOf("\\"),t.lastIndexOf("/"))+1;n(4,s=t.substring(e)),n(5,a=null),n(1,o=t)}else{const e=Math.max(t.name.lastIndexOf("\\"),t.name.lastIndexOf("/"))+1;n(4,s=t.name.substring(e)),n(5,a=t.size),n(1,o=t.url)}}(g),486539265&t.$$.dirty[0]&&function({disPos:t,mirror:e,flip:n,rotation:o,zoom:l}){r?.style.setProperty("transform",`rotate(${o}deg) scaleX(${e?-1:1}) scaleY(${n?-1:1}) scale(${l})`),r?.style.setProperty("--left",t.x+"px"),r?.style.setProperty("--top",t.y+"px")}({disPos:d,mirror:M,flip:q,rotation:C,zoom:v})},[v,o,r,i,s,a,p,b,x,function(t){if(isNaN(t)||null==t)return"";if(t<1)return t+" B";const e=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),h.length-1);return Number((t/Math.pow(1e3,e)).toFixed(2))+h[e]},function(t){n(8,x=!1),c.x=t.clientX,c.y=t.clientY,n(2,r.onpointermove=y,r),r.setPointerCapture(t.pointerId)},function(t){r.onpointermove&&(n(8,x=!0),n(2,r.onpointermove=null,r),r.releasePointerCapture(t.pointerId),u.x+=t.clientX-c.x,u.y+=t.clientY-c.y)},function(){n(25,g=b[(b.indexOf(g)+1)%b.length])},function(){const t=b.indexOf(g);n(25,g=b[0===t?b.length-1:t-1])},k,function({dataTransfer:t}){t.items&&_([...t.items])},function({clipboardData:t}){t.items&&_([...t.items])},function(){n(3,i=!i),r.style.setProperty("--pixel",i?"crisp-edges":"pixelated")},function(){u.x=0,u.y=0,l=0,n(0,v=1),n(24,d=u)},function(){n(6,p.x=r.naturalWidth,p),n(6,p.y=r.naturalHeight,p)},function(){n(26,C-=90)},function(){n(26,C+=90)},function(){n(27,q=!q)},function(){n(28,M=!M)},d,g,C,q,M,function(e){$.call(this,t,e)},function(e){$.call(this,t,e)},function(e){$.call(this,t,e)},function(e){$.call(this,t,e)},function(t){w[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},()=>k({deltaY:100}),()=>k({deltaY:-100})]}return new class extends Y{constructor(t){super(),T(this,t,G,H,l,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
