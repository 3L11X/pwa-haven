var Module=Module,out=e=>console.log(e),err=e=>console.error(e);function ready(){}function assert(e,r){if(!e)throw r}if(String.prototype.startsWith||(String.prototype.startsWith=function(e,r){return void 0===r&&(r=0),this.substring(r,e.length)===e}),String.prototype.includes||(String.prototype.includes=function(e,r){return-1!==this.indexOf(e,r)}),!ArrayBuffer.isView){const e=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];ArrayBuffer.isView=r=>r&&r.constructor&&-1!==e.indexOf(r.constructor)}if(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(e,r){return new Uint8Array(this.subarray(e,r))}),Date.now||(Date.now=()=>(new Date).getTime()),"undefined"==typeof console){const e=(e,r)=>{postMessage({target:"console",command:e,content:JSON.stringify(Array.prototype.slice.call(r))})};console={log:function(){e("log",arguments)},debug:function(){e("debug",arguments)},info:function(){e("info",arguments)},warn:function(){e("warn",arguments)},error:function(){e("error",arguments)}},console.log("overridden console")}const read_=(e,r)=>{const t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType=r?"arraybuffer":"text",t.send(null),t.response},readAsync=(e,r,t)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if((200===n.status||0===n.status)&&n.response)return r(n.response);t()},n.onerror=t,n.send(null)};Module={wasm:!WebAssembly.instantiateStreaming&&read_("jassub-worker.wasm",!0)},self.ready=()=>postMessage({target:"ready"}),self.out=e=>{"libass: No usable fontconfig configuration file found, using fallback."===e?console.debug(e):console.log(e)},self.err=e=>{"Fontconfig error: Cannot load default config file: No such file: (null)"===e?console.debug(e):console.error(e)};let lastCurrentTime=0;const rate=1;let rafId=null,nextIsRaf=!1,lastCurrentTimeReceivedAt=Date.now(),targetFps=24,useLocalFonts=!1,blendMode="js",availableFonts={};const fontMap_={};let debug,fontId=0;self.width=0,self.height=0;let asyncRender=!1;self.addFont=({font:e})=>asyncWrite(e);const findAvailableFonts=e=>{if((e=e.trim().toLowerCase()).startsWith("@")&&(e=e.substring(1)),!fontMap_[e]){if(fontMap_[e]=!0,!availableFonts[e]&&useLocalFonts)return postMessage({target:"getLocalFont",font:e});asyncWrite(availableFonts[e])}},asyncWrite=e=>{ArrayBuffer.isView(e)?allocFont(e):readAsync(e,(e=>{allocFont(new Uint8Array(e))}),console.error)},allocFont=e=>{const r=_malloc(e.byteLength);HEAPU8.set(e,r),self.jassubObj.addFont("font-"+fontId++,r,e.byteLength),self.jassubObj.reloadFonts()},processAvailableFonts=e=>{if(!availableFonts)return;const r=parseAss(e);for(let e=0;e<r.length;e++)for(let t=0;t<r[e].body.length;t++)"Style"===r[e].body[t].key&&findAvailableFonts(r[e].body[t].value.Fontname);const t=/\\fn([^\\}]*?)[\\}]/g;let n;for(;null!==(n=t.exec(e));)findAvailableFonts(n[1])};self.setTrack=({content:e})=>{processAvailableFonts(e),self.jassubObj.createTrackMem(e)},self.freeTrack=()=>{self.jassubObj.removeTrack()},self.setTrackByUrl=({url:e})=>{self.setTrack({content:read_(e)})};const resize=(e,r)=>{self.width=e,self.height=r,self.jassubObj.resizeCanvas(e,r)},getCurrentTime=()=>{const e=(Date.now()-lastCurrentTimeReceivedAt)/1e3;return _isPaused?lastCurrentTime:(e>5&&(console.error("Didn't received currentTime > 5 seconds. Assuming video was paused."),setIsPaused(!0)),lastCurrentTime+1*e)},setCurrentTime=e=>{lastCurrentTime=e,lastCurrentTimeReceivedAt=Date.now(),rafId||(nextIsRaf?rafId=requestAnimationFrame(renderLoop):(renderLoop(),setTimeout((()=>{nextIsRaf=!1}),20)))};let _isPaused=!0;const setIsPaused=e=>{e!==_isPaused&&(_isPaused=e,e?rafId&&(clearTimeout(rafId),rafId=null):(lastCurrentTimeReceivedAt=Date.now(),rafId=requestAnimationFrame(renderLoop)))},render=(e,r)=>{const t=Date.now();let n=null;if("wasm"===blendMode?(n=self.jassubObj.renderBlend(e,r),n&&(n.times={renderTime:Date.now()-t-(n&&n.time)|0,blendTime:0|(n&&n.time)})):(n=self.jassubObj.renderImage(e,r),n&&(n.times={renderTime:Date.now()-t-(n&&n.time)|0,cppDecodeTime:0|(n&&n.time)})),n&&(0!==self.jassubObj.changed||r)){const e=[];let r=[];const t=Date.now();if(asyncRender){const a=[];for(let r=n,t=0;t<self.jassubObj.count;r=r.next,++t)r.image&&(e.push({w:r.w,h:r.h,x:r.x,y:r.y}),a.push(createImageBitmap(new ImageData(HEAPU8C.subarray(r.image,r.image+r.w*r.h*4),r.w,r.h))));Promise.all(a).then((a=>{for(let r=0;r<e.length;r++)e[r].image=a[r];r=a,paintImages({images:e,buffers:r,times:n.times,decodeStartTime:t})}))}else{for(let t=n,a=0;a<self.jassubObj.count;t=t.next,++a)if(t.image){const n={w:t.w,h:t.h,x:t.x,y:t.y,image:t.image};if(!offCanvasCtx){const e=buffer.slice(t.image,t.image+t.w*t.h*4);r.push(e),n.image=e}e.push(n)}paintImages({images:e,buffers:r,times:n.times,decodeStartTime:t})}}else postMessage({target:"unbusy"})};self.demand=({time:e})=>{lastCurrentTime=e,render(e)};const renderLoop=e=>{rafId=0,render(getCurrentTime(),e),_isPaused||(rafId=requestAnimationFrame(renderLoop))},paintImages=({times:e,images:r,decodeStartTime:t,buffers:n})=>{if(e.decodeTime=Date.now()-t,offCanvasCtx){const t=Date.now();offCanvas.width=self.width,offCanvas.height!==self.height&&(offCanvas.height=self.height),offCanvasCtx.clearRect(0,0,self.width,self.height);for(const e of r)e.image&&(asyncRender?(offCanvasCtx.drawImage(e.image,e.x,e.y),e.image.close()):(self.bufferCanvas.width=e.w,self.bufferCanvas.height=e.h,self.bufferCtx.putImageData(new ImageData(HEAPU8C.subarray(e.image,e.image+e.w*e.h*4),e.w,e.h),0,0),offCanvasCtx.drawImage(self.bufferCanvas,e.x,e.y)));if(debug){e.drawTime=Date.now()-t;let n=0;for(const r in e)n+=e[r];console.log("Bitmaps: "+r.length+" Total: "+Math.round(n)+"ms",e)}postMessage({target:"unbusy"})}else postMessage({target:"render",async:asyncRender,images:r,times:e,width:self.width,height:self.height},n)},parseAss=e=>{let r,t,n,a,i,o,s,l,u,c;const d=[],f=e.split(/[\r\n]+/g);for(l=0;l<f.length;l++)if(r=f[l].match(/^\[(.*)\]$/),r)t=null,d.push({name:r[1],body:[]});else{if(/^\s*$/.test(f[l]))continue;if(0===d.length)continue;if(c=d[d.length-1].body,";"===f[l][0])c.push({type:"comment",value:f[l].substring(1)});else{if(a=f[l].split(":"),i=a[0],o=a.slice(1).join(":").trim(),(t||"Format"===i)&&(o=o.split(","),t&&o.length>t.length&&(n=o.slice(t.length-1).join(","),o=o.slice(0,t.length-1),o.push(n)),o=o.map((e=>e.trim())),t)){for(s={},u=0;u<o.length;u++)s[t[u]]=o[u];o=s}"Format"===i&&(t=o),c.push({key:i,value:o})}}return d},requestAnimationFrame=(()=>{let e=0;return r=>{const t=Date.now();if(0===e)e=t+1e3/targetFps;else for(;t+2>=e;)e+=1e3/targetFps;const n=Math.max(e-t,0);return setTimeout(r,n)}})(),_applyKeys=(e,r)=>{for(const t of Object.keys(e))r[t]=e[t]};let offCanvas,offCanvasCtx;self.init=e=>{self.width=e.width,self.height=e.height,blendMode=e.blendMode,asyncRender=e.asyncRender,asyncRender&&"undefined"==typeof createImageBitmap&&(asyncRender=!1,console.error("'createImageBitmap' needed for 'asyncRender' unsupported!")),availableFonts=e.availableFonts,debug=e.debug,targetFps=e.targetFps||targetFps,useLocalFonts=e.useLocalFonts;const r=e.fallbackFont.toLowerCase();self.jassubObj=new Module.JASSUB(self.width,self.height,r||null),r&&findAvailableFonts(r);let t=e.subContent;t||(t=read_(e.subUrl)),processAvailableFonts(t);for(const r of e.fonts||[])asyncWrite(r);self.jassubObj.createTrackMem(t),self.jassubObj.setDropAnimations(e.dropAllAnimations),(e.libassMemoryLimit>0||e.libassGlyphLimit>0)&&self.jassubObj.setMemoryLimits(e.libassGlyphLimit||0,e.libassMemoryLimit||0)},self.canvas=({width:e,height:r,force:t})=>{if(null==e)throw new Error("Invalid canvas size specified");resize(e,r),t&&render(lastCurrentTime)},self.video=({currentTime:e,isPaused:r,rate:t})=>{null!=e&&setCurrentTime(e),null!=r&&setIsPaused(r),t=t||t},self.offscreenCanvas=({transferable:e})=>{offCanvas=e[0],offCanvasCtx=offCanvas.getContext("2d",{desynchronized:!0}),asyncRender||(self.bufferCanvas=new OffscreenCanvas(self.height,self.width),self.bufferCtx=self.bufferCanvas.getContext("2d",{desynchronized:!0}))},self.destroy=()=>{self.jassubObj.quitLibrary()},self.createEvent=({event:e})=>{_applyKeys(e,self.jassubObj.getEvent(self.jassubObj.allocEvent()))},self.getEvents=()=>{const e=[];for(let r=0;r<self.jassubObj.getEventCount();r++){const{Start:t,Duration:n,ReadOrder:a,Layer:i,Style:o,MarginL:s,MarginR:l,MarginV:u,Name:c,Text:d,Effect:f}=self.jassubObj.getEvent(r);e.push({Start:t,Duration:n,ReadOrder:a,Layer:i,Style:o,MarginL:s,MarginR:l,MarginV:u,Name:c,Text:d,Effect:f})}postMessage({target:"getEvents",events:e})},self.setEvent=({event:e,index:r})=>{_applyKeys(e,self.jassubObj.getEvent(r))},self.removeEvent=({index:e})=>{self.jassubObj.removeEvent(e)},self.createStyle=({style:e})=>{_applyKeys(e,self.jassubObj.getStyle(self.jassubObj.allocStyle()))},self.getStyles=()=>{const e=[];for(let r=0;r<self.jassubObj.getStyleCount();r++){const{Name:t,FontName:n,FontSize:a,PrimaryColour:i,SecondaryColour:o,OutlineColour:s,BackColour:l,Bold:u,Italic:c,Underline:d,StrikeOut:f,ScaleX:g,ScaleY:p,Spacing:h,Angle:m,BorderStyle:y,Outline:_,Shadow:v,Alignment:b,MarginL:w,MarginR:T,MarginV:P,Encoding:C,treat_fontname_as_pattern:A,Blur:E,Justify:F}=self.jassubObj.getStyle(r);e.push({Name:t,FontName:n,FontSize:a,PrimaryColour:i,SecondaryColour:o,OutlineColour:s,BackColour:l,Bold:u,Italic:c,Underline:d,StrikeOut:f,ScaleX:g,ScaleY:p,Spacing:h,Angle:m,BorderStyle:y,Outline:_,Shadow:v,Alignment:b,MarginL:w,MarginR:T,MarginV:P,Encoding:C,treat_fontname_as_pattern:A,Blur:E,Justify:F})}postMessage({target:"getStyles",time:Date.now(),styles:e})},self.setStyle=({style:e,index:r})=>{_applyKeys(e,self.jassubObj.getStyle(r))},self.removeStyle=({index:e})=>{self.jassubObj.removeStyle(e)},onmessage=({data:e})=>{if(!self[e.target])throw new Error("Unknown event target "+e.target);self[e.target](e)};let HEAPU8C=null;function abort(e){throw e}self.updateGlobalBufferAndViews=(e=>r=>{e(r),HEAPU8C=new Uint8ClampedArray(r)})(self.updateGlobalBufferAndViews);var HEAP8,HEAP16,HEAP32,HEAPU8,HEAPU16,HEAPU32,HEAPF32,HEAPF64,wasmMemory,buffer,wasmTable,UTF8Decoder=new TextDecoder("utf8");function UTF8ArrayToString(e,r,t){for(var n=r+t,a=r;e[a]&&!(a>=n);)++a;return UTF8Decoder.decode(e.buffer?e.subarray(r,a):new Uint8Array(e.slice(r,a)))}function UTF8ToString(e,r){if(!e)return"";for(var t=e+r,n=e;!(n>=t)&&HEAPU8[n];)++n;return UTF8Decoder.decode(HEAPU8.subarray(e,n))}function stringToUTF8Array(e,r,t,n){if(!(n>0))return 0;for(var a=t,i=t+n-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(t>=i)break;r[t++]=s}else if(s<=2047){if(t+1>=i)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(t+2>=i)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(t+3>=i)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-a}function stringToUTF8(e,r,t){return stringToUTF8Array(e,HEAPU8,r,t)}function lengthBytesUTF8(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r}function updateGlobalBufferAndViews(e){buffer=e,HEAP8=new Int8Array(e),HEAP16=new Int16Array(e),HEAP32=new Int32Array(e),HEAPU8=new Uint8Array(e),HEAPU16=new Uint16Array(e),HEAPU32=new Uint32Array(e),HEAPF32=new Float32Array(e),HEAPF64=new Float64Array(e)}function ___assert_fail(e,r,t,n){abort("Assertion failed: "+UTF8ToString(e)+", at: "+[r?UTF8ToString(r):"unknown filename",t,n?UTF8ToString(n):"unknown function"])}var SYSCALLS={varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(e){return UTF8ToString(e)}};function ___syscall_fcntl64(e,r,t){return SYSCALLS.varargs=t,0}function ___syscall_getdents64(e,r,t){}function ___syscall_ioctl(e,r,t){return SYSCALLS.varargs=t,0}function ___syscall_openat(e,r,t,n){SYSCALLS.varargs=n}function __embind_register_bigint(e,r,t,n,a){}function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function embind_init_charCodes(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);embind_charCodes=e}var embind_charCodes=void 0;function readLatin1String(e){for(var r="",t=e;HEAPU8[t];)r+=embind_charCodes[HEAPU8[t++]];return r}var awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57;function makeLegalFunctionName(e){if(void 0===e)return"_unknown";var r=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=char_0&&r<=char_9?"_"+e:e}function createNamedFunction(e,r){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function extendError(e,r){var t=createNamedFunction(r,(function(e){this.name=r,this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var BindingError=void 0;function throwBindingError(e){throw new BindingError(e)}var InternalError=void 0;function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,r,t){function n(r){var n=t(r);n.length!==e.length&&throwInternalError("Mismatched type converter count");for(var a=0;a<e.length;++a)registerType(e[a],n[a])}e.forEach((function(e){typeDependencies[e]=r}));var a=new Array(r.length),i=[],o=0;r.forEach(((e,r)=>{registeredTypes.hasOwnProperty(e)?a[r]=registeredTypes[e]:(i.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push((()=>{a[r]=registeredTypes[e],++o===i.length&&n(a)})))})),0===i.length&&n(a)}function registerType(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=r.name;if(e||throwBindingError('type "'+n+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+n+"' twice")}if(registeredTypes[e]=r,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var a=awaitingDependencies[e];delete awaitingDependencies[e],a.forEach((e=>e()))}}function __embind_register_bool(e,r,t,n,a){var i=getShiftFromSize(t);registerType(e,{name:r=readLatin1String(r),fromWireType:function(e){return!!e},toWireType:function(e,r){return r?n:a},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===t)n=HEAP8;else if(2===t)n=HEAP16;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);n=HEAP32}return this.fromWireType(n[e>>i])},destructorFunction:null})}function ClassHandle_isAliasOf(e){if(!(this instanceof ClassHandle))return!1;if(!(e instanceof ClassHandle))return!1;for(var r=this.$$.ptrType.registeredClass,t=this.$$.ptr,n=e.$$.ptrType.registeredClass,a=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return r===n&&t===a}function shallowCopyInternalPointer(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function throwInstanceAlreadyDeleted(e){throwBindingError(e.$$.ptrType.registeredClass.name+" instance already deleted")}var finalizationRegistry=!1;function detachFinalizer(e){}function runDestructor(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function releaseClassHandle(e){e.count.value-=1,0===e.count.value&&runDestructor(e)}function downcastPointer(e,r,t){if(r===t)return e;if(void 0===t.baseClass)return null;var n=downcastPointer(e,r,t.baseClass);return null===n?null:t.downcast(n)}var registeredPointers={};function getInheritedInstanceCount(){return Object.keys(registeredInstances).length}function getLiveInheritedInstances(){var e=[];for(var r in registeredInstances)registeredInstances.hasOwnProperty(r)&&e.push(registeredInstances[r]);return e}var deletionQueue=[];function flushPendingDeletes(){for(;deletionQueue.length;){var e=deletionQueue.pop();e.$$.deleteScheduled=!1,e.delete()}}var delayFunction=void 0;function setDelayFunction(e){delayFunction=e,deletionQueue.length&&delayFunction&&delayFunction(flushPendingDeletes)}function init_embind(){Module.getInheritedInstanceCount=getInheritedInstanceCount,Module.getLiveInheritedInstances=getLiveInheritedInstances,Module.flushPendingDeletes=flushPendingDeletes,Module.setDelayFunction=setDelayFunction}var registeredInstances={};function getBasestPointer(e,r){for(void 0===r&&throwBindingError("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}function getInheritedInstance(e,r){return r=getBasestPointer(e,r),registeredInstances[r]}function makeClassHandle(e,r){return r.ptrType&&r.ptr||throwInternalError("makeClassHandle requires ptr and ptrType"),!!r.smartPtrType!=!!r.smartPtr&&throwInternalError("Both smartPtrType and smartPtr must be specified"),r.count={value:1},attachFinalizer(Object.create(e,{$$:{value:r}}))}function RegisteredPointer_fromWireType(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=getInheritedInstance(this.registeredClass,r);if(void 0!==t){if(0===t.$$.count.value)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,o=this.registeredClass.getActualType(r),s=registeredPointers[o];if(!s)return a.call(this);i=this.isConst?s.constPointerType:s.pointerType;var l=downcastPointer(r,this.registeredClass,i.registeredClass);return null===l?a.call(this):this.isSmartPointer?makeClassHandle(i.registeredClass.instancePrototype,{ptrType:i,ptr:l,smartPtrType:this,smartPtr:e}):makeClassHandle(i.registeredClass.instancePrototype,{ptrType:i,ptr:l})}function attachFinalizer(e){return"undefined"==typeof FinalizationRegistry?(attachFinalizer=e=>e,e):(finalizationRegistry=new FinalizationRegistry((e=>{releaseClassHandle(e.$$)})),attachFinalizer=e=>{var r=e.$$;if(r.smartPtr){var t={$$:r};finalizationRegistry.register(e,t,e)}return e},detachFinalizer=e=>finalizationRegistry.unregister(e),attachFinalizer(e))}function ClassHandle_clone(){if(this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function ClassHandle_delete(){this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&throwBindingError("Object already scheduled for deletion"),detachFinalizer(this),releaseClassHandle(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ClassHandle_isDeleted(){return!this.$$.ptr}function ClassHandle_deleteLater(){return this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&throwBindingError("Object already scheduled for deletion"),deletionQueue.push(this),1===deletionQueue.length&&delayFunction&&delayFunction(flushPendingDeletes),this.$$.deleteScheduled=!0,this}function init_ClassHandle(){ClassHandle.prototype.isAliasOf=ClassHandle_isAliasOf,ClassHandle.prototype.clone=ClassHandle_clone,ClassHandle.prototype.delete=ClassHandle_delete,ClassHandle.prototype.isDeleted=ClassHandle_isDeleted,ClassHandle.prototype.deleteLater=ClassHandle_deleteLater}function ClassHandle(){}function ensureOverloadTable(e,r,t){if(void 0===e[r].overloadTable){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}}function exposePublicSymbol(e,r,t){Module.hasOwnProperty(e)?((void 0===t||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[t])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(t)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),Module[e].overloadTable[t]=r):(Module[e]=r,void 0!==t&&(Module[e].numArguments=t))}function RegisteredClass(e,r,t,n,a,i,o,s){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=a,this.getActualType=i,this.upcast=o,this.downcast=s,this.pureVirtualFunctions=[]}function upcastPointer(e,r,t){for(;r!==t;)r.upcast||throwBindingError("Expected null or instance of "+t.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function constNoSmartPtrRawPointerToWireType(e,r){if(null===r)return this.isReference&&throwBindingError("null is not a valid "+this.name),0;r.$$||throwBindingError('Cannot pass "'+embindRepr(r)+'" as a '+this.name),r.$$.ptr||throwBindingError("Cannot pass deleted object as a pointer of type "+this.name);var t=r.$$.ptrType.registeredClass;return upcastPointer(r.$$.ptr,t,this.registeredClass)}function genericPointerToWireType(e,r){var t;if(null===r)return this.isReference&&throwBindingError("null is not a valid "+this.name),this.isSmartPointer?(t=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,t),t):0;r.$$||throwBindingError('Cannot pass "'+embindRepr(r)+'" as a '+this.name),r.$$.ptr||throwBindingError("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&throwBindingError("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass;if(t=upcastPointer(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===r.$$.smartPtr&&throwBindingError("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:throwBindingError("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var a=r.clone();t=this.rawShare(t,Emval.toHandle((function(){a.delete()}))),null!==e&&e.push(this.rawDestructor,t)}break;default:throwBindingError("Unsupporting sharing policy")}return t}function nonConstNoSmartPtrRawPointerToWireType(e,r){if(null===r)return this.isReference&&throwBindingError("null is not a valid "+this.name),0;r.$$||throwBindingError('Cannot pass "'+embindRepr(r)+'" as a '+this.name),r.$$.ptr||throwBindingError("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&throwBindingError("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass;return upcastPointer(r.$$.ptr,t,this.registeredClass)}function simpleReadValueFromPointer(e){return this.fromWireType(HEAP32[e>>2])}function RegisteredPointer_getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function RegisteredPointer_destructor(e){this.rawDestructor&&this.rawDestructor(e)}function RegisteredPointer_deleteObject(e){null!==e&&e.delete()}function init_RegisteredPointer(){RegisteredPointer.prototype.getPointee=RegisteredPointer_getPointee,RegisteredPointer.prototype.destructor=RegisteredPointer_destructor,RegisteredPointer.prototype.argPackAdvance=8,RegisteredPointer.prototype.readValueFromPointer=simpleReadValueFromPointer,RegisteredPointer.prototype.deleteObject=RegisteredPointer_deleteObject,RegisteredPointer.prototype.fromWireType=RegisteredPointer_fromWireType}function RegisteredPointer(e,r,t,n,a,i,o,s,l,u,c){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=a,this.pointeeType=i,this.sharingPolicy=o,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=u,this.rawDestructor=c,a||void 0!==r.baseClass?this.toWireType=genericPointerToWireType:n?(this.toWireType=constNoSmartPtrRawPointerToWireType,this.destructorFunction=null):(this.toWireType=nonConstNoSmartPtrRawPointerToWireType,this.destructorFunction=null)}function replacePublicSymbol(e,r,t){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==t?Module[e].overloadTable[t]=r:(Module[e]=r,Module[e].argCount=t)}function dynCallLegacy(e,r,t){var n=dynCalls[e];return t&&t.length?n.apply(null,[r].concat(t)):n.call(null,r)}var wasmTableMirror=[];function getWasmTableEntry(e){var r=wasmTableMirror[e];return r||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=r=wasmTable.get(e)),r}function dynCall(e,r,t){return e.includes("j")?dynCallLegacy(e,r,t):getWasmTableEntry(r).apply(null,t)}function getDynCaller(e,r){var t=[];return function(){return t.length=0,Object.assign(t,arguments),dynCall(e,r,t)}}function embind__requireFunction(e,r){var t=(e=readLatin1String(e)).includes("j")?getDynCaller(e,r):getWasmTableEntry(r);return"function"!=typeof t&&throwBindingError("unknown function pointer with signature "+e+": "+r),t}var UnboundTypeError=void 0;function getTypeName(e){var r=___getTypeName(e),t=readLatin1String(r);return _free(r),t}function throwUnboundTypeError(e,r){var t=[],n={};throw r.forEach((function e(r){n[r]||registeredTypes[r]||(typeDependencies[r]?typeDependencies[r].forEach(e):(t.push(r),n[r]=!0))})),new UnboundTypeError(e+": "+t.map(getTypeName).join([", "]))}function __embind_register_class(e,r,t,n,a,i,o,s,l,u,c,d,f){c=readLatin1String(c),i=embind__requireFunction(a,i),s&&(s=embind__requireFunction(o,s)),u&&(u=embind__requireFunction(l,u)),f=embind__requireFunction(d,f);var g=makeLegalFunctionName(c);exposePublicSymbol(g,(function(){throwUnboundTypeError("Cannot construct "+c+" due to unbound types",[n])})),whenDependentTypesAreResolved([e,r,t],n?[n]:[],(function(r){var t,a;r=r[0],a=n?(t=r.registeredClass).instancePrototype:ClassHandle.prototype;var o=createNamedFunction(g,(function(){if(Object.getPrototypeOf(this)!==l)throw new BindingError("Use 'new' to construct "+c);if(void 0===d.constructor_body)throw new BindingError(c+" has no accessible constructor");var e=d.constructor_body[arguments.length];if(void 0===e)throw new BindingError("Tried to invoke ctor of "+c+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(d.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),l=Object.create(a,{constructor:{value:o}});o.prototype=l;var d=new RegisteredClass(c,o,l,f,t,i,s,u),p=new RegisteredPointer(c,d,!0,!1,!1),h=new RegisteredPointer(c+"*",d,!1,!1,!1),m=new RegisteredPointer(c+" const*",d,!1,!0,!1);return registeredPointers[e]={pointerType:h,constPointerType:m},replacePublicSymbol(g,o),[p,h,m]}))}function heap32VectorToArray(e,r){for(var t=[],n=0;n<e;n++)t.push(HEAPU32[r+4*n>>2]);return t}function runDestructors(e){for(;e.length;){var r=e.pop();e.pop()(r)}}function new_(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var t=createNamedFunction(e.name||"unknownFunctionName",(function(){}));t.prototype=e.prototype;var n=new t,a=e.apply(n,r);return a instanceof Object?a:n}function craftInvokerFunction(e,r,t,n,a){var i=r.length;i<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==r[1]&&null!==t,s=!1,l=1;l<r.length;++l)if(null!==r[l]&&void 0===r[l].destructorFunction){s=!0;break}var u="void"!==r[0].name,c="",d="";for(l=0;l<i-2;++l)c+=(0!==l?", ":"")+"arg"+l,d+=(0!==l?", ":"")+"arg"+l+"Wired";var f="return function "+makeLegalFunctionName(e)+"("+c+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(f+="var destructors = [];\n");var g=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[throwBindingError,n,a,runDestructors,r[0],r[1]];for(o&&(f+="var thisWired = classParam.toWireType("+g+", this);\n"),l=0;l<i-2;++l)f+="var arg"+l+"Wired = argType"+l+".toWireType("+g+", arg"+l+"); // "+r[l+2].name+"\n",p.push("argType"+l),h.push(r[l+2]);if(o&&(d="thisWired"+(d.length>0?", ":"")+d),f+=(u?"var rv = ":"")+"invoker(fn"+(d.length>0?", ":"")+d+");\n",s)f+="runDestructors(destructors);\n";else for(l=o?1:2;l<r.length;++l){var m=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==r[l].destructorFunction&&(f+=m+"_dtor("+m+"); // "+r[l].name+"\n",p.push(m+"_dtor"),h.push(r[l].destructorFunction))}return u&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",p.push(f),new_(Function,p).apply(null,h)}function __embind_register_class_constructor(e,r,t,n,a,i){assert(r>0);var o=heap32VectorToArray(r,t);a=embind__requireFunction(n,a),whenDependentTypesAreResolved([],[e],(function(e){var t="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[r-1])throw new BindingError("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[r-1]=()=>{throwUnboundTypeError("Cannot construct "+e.name+" due to unbound types",o)},whenDependentTypesAreResolved([],o,(function(n){return n.splice(1,0,null),e.registeredClass.constructor_body[r-1]=craftInvokerFunction(t,n,null,a,i),[]})),[]}))}function __embind_register_class_function(e,r,t,n,a,i,o,s){var l=heap32VectorToArray(t,n);r=readLatin1String(r),i=embind__requireFunction(a,i),whenDependentTypesAreResolved([],[e],(function(e){var n=(e=e[0]).name+"."+r;function a(){throwUnboundTypeError("Cannot call "+n+" due to unbound types",l)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(r);var u=e.registeredClass.instancePrototype,c=u[r];return void 0===c||void 0===c.overloadTable&&c.className!==e.name&&c.argCount===t-2?(a.argCount=t-2,a.className=e.name,u[r]=a):(ensureOverloadTable(u,r,n),u[r].overloadTable[t-2]=a),whenDependentTypesAreResolved([],l,(function(a){var s=craftInvokerFunction(n,a,e,i,o);return void 0===u[r].overloadTable?(s.argCount=t-2,u[r]=s):u[r].overloadTable[t-2]=s,[]})),[]}))}function validateThis(e,r,t){return e instanceof Object||throwBindingError(t+' with invalid "this": '+e),e instanceof r.registeredClass.constructor||throwBindingError(t+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||throwBindingError("cannot call emscripten binding method "+t+" on deleted object"),upcastPointer(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)}function __embind_register_class_property(e,r,t,n,a,i,o,s,l,u){r=readLatin1String(r),a=embind__requireFunction(n,a),whenDependentTypesAreResolved([],[e],(function(e){var n=(e=e[0]).name+"."+r,c={get:function(){throwUnboundTypeError("Cannot access "+n+" due to unbound types",[t,o])},enumerable:!0,configurable:!0};return c.set=l?()=>{throwUnboundTypeError("Cannot access "+n+" due to unbound types",[t,o])}:e=>{throwBindingError(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,r,c),whenDependentTypesAreResolved([],l?[t,o]:[t],(function(t){var o=t[0],c={get:function(){var r=validateThis(this,e,n+" getter");return o.fromWireType(a(i,r))},enumerable:!0};if(l){l=embind__requireFunction(s,l);var d=t[1];c.set=function(r){var t=validateThis(this,e,n+" setter"),a=[];l(u,t,d.toWireType(a,r)),runDestructors(a)}}return Object.defineProperty(e.registeredClass.instancePrototype,r,c),[]})),[]}))}var emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function __emval_decref(e){e>4&&0==--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,r=5;r<emval_handle_array.length;++r)void 0!==emval_handle_array[r]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}var Emval={toValue:e=>(e||throwBindingError("Cannot use deleted val. handle = "+e),emval_handle_array[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[r]={refcount:1,value:e},r}}};function __embind_register_emval(e,r){registerType(e,{name:r=readLatin1String(r),fromWireType:function(e){var r=Emval.toValue(e);return __emval_decref(e),r},toWireType:function(e,r){return Emval.toHandle(r)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function embindRepr(e){if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e}function floatReadValueFromPointer(e,r){switch(r){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,r,t){var n=getShiftFromSize(t);registerType(e,{name:r=readLatin1String(r),fromWireType:function(e){return e},toWireType:function(e,r){return r},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(r,n),destructorFunction:null})}function integerReadValueFromPointer(e,r,t){switch(r){case 0:return t?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return t?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return t?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,r,t,n,a){r=readLatin1String(r),-1===a&&(a=4294967295);var i=getShiftFromSize(t),o=e=>e;if(0===n){var s=32-8*t;o=e=>e<<s>>>s}var l=r.includes("unsigned");registerType(e,{name:r,fromWireType:o,toWireType:l?function(e,r){return this.name,r>>>0}:function(e,r){return this.name,r},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(r,i,0!==n),destructorFunction:null})}function __embind_register_memory_view(e,r,t){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function a(e){var r=HEAPU32,t=r[e>>=2],a=r[e+1];return new n(buffer,a,t)}registerType(e,{name:t=readLatin1String(t),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function __embind_register_std_string(e,r){var t="std::string"===(r=readLatin1String(r));registerType(e,{name:r,fromWireType:function(e){var r,n=HEAPU32[e>>2],a=e+4;if(t)for(var i=a,o=0;o<=n;++o){var s=a+o;if(o==n||0==HEAPU8[s]){var l=UTF8ToString(i,s-i);void 0===r?r=l:(r+=String.fromCharCode(0),r+=l),i=s+1}}else{var u=new Array(n);for(o=0;o<n;++o)u[o]=String.fromCharCode(HEAPU8[a+o]);r=u.join("")}return _free(e),r},toWireType:function(e,r){var n;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var a="string"==typeof r;a||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||throwBindingError("Cannot pass non-string to std::string"),n=t&&a?lengthBytesUTF8(r):r.length;var i=_malloc(4+n+1),o=i+4;if(HEAPU32[i>>2]=n,t&&a)stringToUTF8(r,o,n+1);else if(a)for(var s=0;s<n;++s){var l=r.charCodeAt(s);l>255&&(_free(o),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[o+s]=l}else for(s=0;s<n;++s)HEAPU8[o+s]=r[s];return null!==e&&e.push(_free,i),i},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}var _emscripten_get_now,UTF16Decoder=new TextDecoder("utf-16le");function UTF16ToString(e,r){for(var t=e,n=t>>1,a=n+r/2;!(n>=a)&&HEAPU16[n];)++n;return t=n<<1,UTF16Decoder.decode(HEAPU8.subarray(e,t))}function stringToUTF16(e,r,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var n=r,a=(t-=2)<2*e.length?t/2:e.length,i=0;i<a;++i){var o=e.charCodeAt(i);HEAP16[r>>1]=o,r+=2}return HEAP16[r>>1]=0,r-n}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e,r){for(var t=0,n="";!(t>=r/4);){var a=HEAP32[e+4*t>>2];if(0==a)break;if(++t,a>=65536){var i=a-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(a)}return n}function stringToUTF32(e,r,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var n=r,a=n+t-4,i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),HEAP32[r>>2]=o,(r+=4)+4>a)break}return HEAP32[r>>2]=0,r-n}function lengthBytesUTF32(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r}function __embind_register_std_wstring(e,r,t){var n,a,i,o,s;t=readLatin1String(t),2===r?(n=UTF16ToString,a=stringToUTF16,o=lengthBytesUTF16,i=()=>HEAPU16,s=1):4===r&&(n=UTF32ToString,a=stringToUTF32,o=lengthBytesUTF32,i=()=>HEAPU32,s=2),registerType(e,{name:t,fromWireType:function(e){for(var t,a=HEAPU32[e>>2],o=i(),l=e+4,u=0;u<=a;++u){var c=e+4+u*r;if(u==a||0==o[c>>s]){var d=n(l,c-l);void 0===t?t=d:(t+=String.fromCharCode(0),t+=d),l=c+r}}return _free(e),t},toWireType:function(e,n){"string"!=typeof n&&throwBindingError("Cannot pass non-string to C++ string type "+t);var i=o(n),l=_malloc(4+i+r);return HEAPU32[l>>2]=i>>s,a(n,l+4,i+r),null!==e&&e.push(_free,l),l},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_void(e,r){registerType(e,{isVoid:!0,name:r=readLatin1String(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,r){}})}function __emscripten_throw_longjmp(){throw 1/0}function __emval_incref(e){e>4&&(emval_handle_array[e].refcount+=1)}function requireRegisteredType(e,r){var t=registeredTypes[e];return void 0===t&&throwBindingError(r+" has unknown type "+getTypeName(e)),t}function __emval_take_value(e,r){var t=(e=requireRegisteredType(e,"_emval_take_value")).readValueFromPointer(r);return Emval.toHandle(t)}function _abort(){abort("")}function _emscripten_memcpy_big(e,r,t){HEAPU8.copyWithin(e,r,r+t)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch(e){}}function _emscripten_resize_heap(e){var r=HEAPU8.length;e>>>=0;var t,n=getHeapMax();if(e>n)return!1;for(var a=1;a<=4;a*=2){var i=r*(1+.2/a);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(n,(t=Math.max(e,i))+(65536-t%65536)%65536)))return!0}return!1}function _proc_exit(e){throw"exit("+e+")"}_emscripten_get_now=()=>performance.now();var _exit=_proc_exit;function _fd_close(e){return 52}function _fd_read(e,r,t,n){return 52}function _fd_seek(e,r,t,n,a){return 70}var printCharBuffers=[null,[],[]];function printChar(e,r){var t=printCharBuffers[e];0===r||10===r?((1===e?out:err)(UTF8ArrayToString(t,0)),t.length=0):t.push(r)}function _fd_write(e,r,t,n){for(var a=0,i=0;i<t;i++){var o=HEAPU32[r>>2],s=HEAPU32[r+4>>2];r+=8;for(var l=0;l<s;l++)printChar(e,HEAPU8[o+l]);a+=s}return HEAPU32[n>>2]=a,0}embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_ClassHandle(),init_embind(),init_RegisteredPointer(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),init_emval();var asmLibraryArg={a:___assert_fail,n:___syscall_fcntl64,A:___syscall_getdents64,E:___syscall_ioctl,l:___syscall_openat,u:__embind_register_bigint,G:__embind_register_bool,g:__embind_register_class,m:__embind_register_class_constructor,c:__embind_register_class_function,b:__embind_register_class_property,F:__embind_register_emval,o:__embind_register_float,f:__embind_register_integer,d:__embind_register_memory_view,p:__embind_register_std_string,k:__embind_register_std_wstring,H:__embind_register_void,y:__emscripten_throw_longjmp,r:__emval_decref,s:__emval_incref,q:__emval_take_value,e:_abort,h:_emscripten_get_now,B:_emscripten_memcpy_big,z:_emscripten_resize_heap,i:_exit,j:_fd_close,D:_fd_read,t:_fd_seek,C:_fd_write,x:invoke_iii,v:invoke_iiii,w:invoke_iiiii};function invoke_iii(e,r,t){var n=stackSave();try{return getWasmTableEntry(e)(r,t)}catch(e){if(stackRestore(n),e!==e+0)throw e;_setThrew(1,0)}}function invoke_iiiii(e,r,t,n,a){var i=stackSave();try{return getWasmTableEntry(e)(r,t,n,a)}catch(e){if(stackRestore(i),e!==e+0)throw e;_setThrew(1,0)}}function invoke_iiii(e,r,t,n){var a=stackSave();try{return getWasmTableEntry(e)(r,t,n)}catch(e){if(stackRestore(a),e!==e+0)throw e;_setThrew(1,0)}}function initRuntime(e){e.J()}var _malloc,_free,___getTypeName,__embind_initialize_bindings,_setThrew,_saveSetjmp,stackSave,stackRestore,stackAlloc,dynCall_jiji,dynCall_jij,dynCall_viiiiji,imports={a:asmLibraryArg};(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch("jassub-worker.wasm"),imports):WebAssembly.instantiate(Module.wasm,imports)).then((function(e){asm=(e.instance||e).exports,_malloc=asm.K,_free=asm.L,___getTypeName=asm.M,__embind_initialize_bindings=asm.N,_setThrew=asm.P,_saveSetjmp=asm.Q,stackSave=asm.R,stackRestore=asm.S,stackAlloc=asm.T,dynCall_jiji=asm.U,dynCall_jij=asm.V,dynCall_viiiiji=asm.W,wasmTable=asm.O,updateGlobalBufferAndViews((wasmMemory=asm.I).buffer),initRuntime(asm),ready()}));